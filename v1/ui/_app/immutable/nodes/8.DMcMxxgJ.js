import{s as L,a as $,g as b,i as C,f as x,k as P,e as m,c as u,l as _,m as p,n as T,t as A,b as V,d as F,h as d,j as W}from"../chunks/scheduler.CSDhDYXB.js";import{S as j,i as z,c as E,a as k,m as N,t as q,b as M,d as R}from"../chunks/index.BJ6aBsbe.js";import{W as B}from"../chunks/CachedExtensionsStore.DLg2jkD0.js";import{S as O}from"../chunks/SignupStore.Dlf1tkxO.js";import{a as G}from"../chunks/index.Uxawk_Ac.js";import{F as J}from"../chunks/FooterButton.BuacVUim.js";import{P as K}from"../chunks/PayloadConfirmation.BPvtwSwz.js";import{C as Q}from"../chunks/CurrentSelectedExtensionIdStore.DIjI68Ql.js";import{R as U}from"../chunks/RequestResponseStore.Cjo029FE.js";import{g as X,b as Y}from"../chunks/entry.C0ooII2U.js";function Z(o){let t,n="Here is what you are going to sign";return{c(){t=m("span"),t.textContent=n,this.h()},l(a){t=u(a,"SPAN",{slot:!0,class:!0,"data-svelte-h":!0}),_(t)!=="svelte-tfqsrb"&&(t.textContent=n),this.h()},h(){p(t,"slot","heading"),p(t,"class","text-md font-bold")},m(a,r){C(a,t,r)},p:T,d(a){a&&x(t)}}}function tt(o){let t,n="Make sure to come back";return{c(){t=m("span"),t.textContent=n,this.h()},l(a){t=u(a,"SPAN",{slot:!0,"data-svelte-h":!0}),_(t)!=="svelte-85xzwo"&&(t.textContent=n),this.h()},h(){p(t,"slot","subheading")},m(a,r){C(a,t,r)},p:T,d(a){a&&x(t)}}}function et(o){let t,n,a="Operation:",r,e,i="Claim Handle",s,c,w='<hr class="flex-grow pb-1 pt-2"/>',S,f,D="Handle:",H,g,v=o[0].raw.baseHandle+"",y;return{c(){t=m("div"),n=m("div"),n.textContent=a,r=$(),e=m("div"),e.textContent=i,s=$(),c=m("div"),c.innerHTML=w,S=$(),f=m("div"),f.textContent=D,H=$(),g=m("div"),y=A(v),this.h()},l(h){t=u(h,"DIV",{slot:!0});var l=V(t);n=u(l,"DIV",{class:!0,"data-svelte-h":!0}),_(n)!=="svelte-1s1o989"&&(n.textContent=a),r=b(l),e=u(l,"DIV",{class:!0,"data-svelte-h":!0}),_(e)!=="svelte-vdiblk"&&(e.textContent=i),s=b(l),c=u(l,"DIV",{class:!0,"data-svelte-h":!0}),_(c)!=="svelte-xy1vsq"&&(c.innerHTML=w),S=b(l),f=u(l,"DIV",{class:!0,"data-svelte-h":!0}),_(f)!=="svelte-1p71uog"&&(f.textContent=D),H=b(l),g=u(l,"DIV",{class:!0});var I=V(g);y=F(I,v),I.forEach(x),l.forEach(x),this.h()},h(){p(n,"class","text-sm font-bold"),p(e,"class","text-sm font-normal"),p(c,"class","pb-1 pt-2"),p(f,"class","text-sm font-bold"),p(g,"class","text-sm font-normal"),p(t,"slot","payloadDescription")},m(h,l){C(h,t,l),d(t,n),d(t,r),d(t,e),d(t,s),d(t,c),d(t,S),d(t,f),d(t,H),d(t,g),d(g,y)},p(h,l){l&1&&v!==(v=h[0].raw.baseHandle+"")&&W(y,v)},d(h){h&&x(t)}}}function at(o){let t;return{c(){t=A("Next > Sign")},l(n){t=F(n,"Next > Sign")},m(n,a){C(n,t,a)},d(n){n&&x(t)}}}function nt(o){let t,n,a,r;return t=new K({props:{payload:o[0].bytes,$$slots:{payloadDescription:[et],subheading:[tt],heading:[Z]},$$scope:{ctx:o}}}),a=new J({props:{$$slots:{default:[at]},$$scope:{ctx:o}}}),a.$on("click",o[1]),{c(){E(t.$$.fragment),n=$(),E(a.$$.fragment)},l(e){k(t.$$.fragment,e),n=b(e),k(a.$$.fragment,e)},m(e,i){N(t,e,i),C(e,n,i),N(a,e,i),r=!0},p(e,[i]){const s={};i&1&&(s.payload=e[0].bytes),i&17&&(s.$$scope={dirty:i,ctx:e}),t.$set(s);const c={};i&16&&(c.$$scope={dirty:i,ctx:e}),a.$set(c)},i(e){r||(q(t.$$.fragment,e),q(a.$$.fragment,e),r=!0)},o(e){M(t.$$.fragment,e),M(a.$$.fragment,e),r=!1},d(e){e&&x(n),R(t,e),R(a,e)}}}function st(o,t,n){let a,r;P(o,O,s=>n(2,a=s)),P(o,Q,s=>n(3,r=s));let e;async function i(){try{const s=await G(r,a.address,e.bytes),c=(await B(a.address,{Sr25519:s.toString()},e.bytes)).toHex();U.upsertExtrinsic({pallet:"handles",extrinsicName:"claimHandle",encodedExtrinsic:c}),console.dir({msg:"Signature",signature:s,tx:c}),X(`${Y}/signup/create-account`)}catch(s){console.error("Payload not signed",s)}}return o.$$.update=()=>{o.$$.dirty&4&&n(0,e=a.handle.payload)},[e,i,a]}class ht extends j{constructor(t){super(),z(this,t,st,nt,L,{})}}export{ht as component};
