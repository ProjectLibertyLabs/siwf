import{w as h}from"./index.BFANTigx.js";const g={rpc:{checkDelegations:{description:"Test a list of MSAs to see if they have delegated to the provider MSA",params:[{name:"delegator_msa_ids",type:"Vec<DelegatorId>"},{name:"provider_msa_id",type:"ProviderId"},{name:"block_number",type:"BlockNumber"},{name:"schema_id",type:"Option<SchemaId>"}],type:"Vec<(DelegatorId, bool)>"},grantedSchemaIdsByMsaId:{description:"Fetch the list of schema ids that a delegator has granted to provider",params:[{name:"delegator_msa_id",type:"DelegatorId"},{name:"provider_msa_id",type:"ProviderId"}],type:"Option<Vec<SchemaGrantResponse>>"},getKeysByMsaId:{description:"Fetch Keys for an MSA Id",params:[{name:"msa_id",type:"MessageSourceId"}],type:"Option<KeyInfoResponse>"}},types:{MessageSourceId:"u64",DelegatorId:"MessageSourceId",ProviderId:"MessageSourceId",KeyInfoResponse:{msa_keys:"Vec<AccountId>",msa_id:"MessageSourceId"},SchemaGrantResponse:{schema_id:"SchemaId",revoked_at:"BlockNumber"}},runtime:{MsaRuntimeApi:[{methods:{has_delegation:{description:"Check to see if a delegation existed between the given delegator and provider at a given block",params:[{name:"delegator_id",type:"DelegatorId"},{name:"provider_id",type:"ProviderId"},{name:"block_number",type:"BlockNumber"},{name:"schema_id",type:"Option<SchemaId>"}],type:"bool"},get_granted_schemas_by_msa_id:{description:"Get the list of schema ids (if any) that exist in any delegation between the delegator and provider",params:[{name:"delegator_id",type:"DelegatorId"},{name:"provider_id",type:"ProviderId"}],type:"Option<Vec<SchemaId>>"}},version:1},{methods:{has_delegation:{description:"Check to see if a delegation existed between the given delegator and provider at a given block",params:[{name:"delegator_id",type:"DelegatorId"},{name:"provider_id",type:"ProviderId"},{name:"block_number",type:"BlockNumber"},{name:"schema_id",type:"Option<SchemaId>"}],type:"bool"},get_granted_schemas_by_msa_id:{description:"Get the list of schema ids (if any) that exist in any delegation between the delegator and provider",params:[{name:"delegator_id",type:"DelegatorId"},{name:"provider_id",type:"ProviderId"}],type:"Option<Vec<SchemaGrantResponse>>"}},version:2}]}},u={rpc:{getBySchemaId:{description:"Get messages by schemaId paginated",params:[{name:"schema_id",type:"SchemaId"},{name:"pagination",type:"BlockPaginationRequest"}],type:"BlockPaginationResponseMessage"}},types:{BlockPaginationRequest:{from_block:"BlockNumber",from_index:"u32",to_block:"BlockNumber",page_size:"u32"},MessageResponse:{payload:"Option<Vec<u8>>",cid:"Option<Vec<u8>>",provider_msa_id:"MessageSourceId",msa_id:"Option<MessageSourceId>",index:"u16",block_number:"BlockNumber",payload_length:"Option<u32>"},BlockPaginationResponseMessage:{content:"Vec<MessageResponse>",has_next:"bool",next_block:"Option<BlockNumber>",next_index:"Option<u32>"}},runtime:{MessagesRuntimeApi:[{methods:{get_messages_by_schema_and_block:{description:"Retrieve the messages for a particular schema and block number",params:[{name:"schema_id",type:"SchemaId"},{name:"schema_payload_location",type:"PayloadLocation"},{name:"block_number",type:"BlockNumber"}],type:"Vec<MessageResponse>"},get_schema_by_id:{description:"Retrieve a schema by id",params:[{name:"schema_id",type:"SchemaId"}],type:"Option<SchemaResponse>"}},version:1}]}},y={rpc:{getBySchemaId:{description:"Get a Schema by Id",params:[{name:"schema_id",type:"SchemaId"}],type:"Option<SchemaResponse>"},checkSchemaValidity:{description:"",params:[{name:"model",type:"SchemaModel"},{name:"at",type:"BlockHash",isOptional:!0}],type:"bool"},getVersions:{description:"Get different versions and schema ids for a complete schema name or only a namespace",params:[{name:"schema_name",type:"String"}],type:"Option<Vec<SchemaVersionResponse>>"}},types:{SchemaId:"u16",SchemaModel:"Vec<u8>",SchemaVersion:"u8",SchemaResponse:{schema_id:"SchemaId",model:"SchemaModel",model_type:"ModelType",payload_location:"PayloadLocation",settings:"Vec<SchemaSetting>"},ModelType:{_enum:["AvroBinary","Parquet"]},PayloadLocation:{_enum:["OnChain","IPFS","Itemized","Paginated"]},SchemaSetting:{_enum:["AppendOnly","SignatureRequired"]},SchemaVersionResponse:{schema_name:"String",schema_version:"SchemaVersion",schema_id:"SchemaId"}},runtime:{SchemasRuntimeApi:[{methods:{get_schema_by_id:{description:"Fetch the schema by id",params:[{name:"schema_id",type:"SchemaId"}],type:"Option<SchemaResponse>"},get_schema_versions_by_name:{description:"Fetch the schema versions by name",params:[{name:"schema_name",type:"Vec<u8>"}],type:"Option<Vec<SchemaVersionResponse>>"}},version:2}]}},_={rpc:{getPaginatedStorage:{description:"Gets pages of stateful storage",params:[{name:"msa_id",type:"MessageSourceId"},{name:"schema_id",type:"SchemaId"}],type:"Vec<PaginatedStorageResponse>"},getItemizedStorage:{description:"Gets itemized of stateful storage",params:[{name:"msa_id",type:"MessageSourceId"},{name:"schema_id",type:"SchemaId"}],type:"ItemizedStoragePageResponse"}},types:{PageId:"u16",PageHash:"u32",PageNonce:"u16",ItemizedStorageResponse:{index:"u16",payload:"Vec<u8>"},PaginatedStorageResponse:{page_id:"PageId",msa_id:"MessageSourceId",schema_id:"SchemaId",content_hash:"PageHash",nonce:"PageNonce",payload:"Vec<u8>"},ItemizedStoragePageResponse:{msa_id:"MessageSourceId",schema_id:"SchemaId",content_hash:"PageHash",nonce:"PageNonce",items:"Vec<ItemizedStorageResponse>"}},runtime:{StatefulStorageRuntimeApi:[{methods:{get_paginated_storage:{description:"Fetch the stateful paginated storage by msa_id and schema_id",params:[{name:"msa_id",type:"MessageSourceId"},{name:"schema_id",type:"SchemaId"}],type:"Result<Vec<PaginatedStorageResponse>, SpRuntimeDispatchError>"},get_itemized_storage:{description:"Fetch the stateful itemized storage by msa_id and schema_id",params:[{name:"msa_id",type:"MessageSourceId"},{name:"schema_id",type:"SchemaId"}],type:"Result<ItemizedStoragePageResponse, SpRuntimeDispatchError>"}},version:1}]}},S={rpc:{getHandleForMsa:{description:"Get handle for a given msa_id",params:[{name:"msa_id",type:"MessageSourceId"}],type:"Option<HandleResponse>"},getMsaForHandle:{description:"Get msa_id for a given handle",params:[{name:"display_handle",type:"String"}],type:"Option<MessageSourceId>"},getNextSuffixes:{description:"Get next suffixes for a given handle and count",params:[{name:"base_handle",type:"String"},{name:"count",type:"u16"}],type:"PresumptiveSuffixesResponse"},validateHandle:{description:"Check whether the supplied handle passes all the checks performed by claim_handle call.",params:[{name:"base_handle",type:"String"}],type:"bool"}},types:{HandleSuffix:"u16",HandleResponse:{base_handle:"String",canonical_base:"String",suffix:"u16"},PresumptiveSuffixesResponse:{suffixes:"Vec<HandleSuffix>",base_handle:"String"}},runtime:{HandlesRuntimeApi:[{methods:{get_handle_for_msa:{description:"Get handle for a given msa_id",params:[{name:"msa_id",type:"MessageSourceId"}],type:"Option<HandleResponse>"},get_msa_for_handle:{description:"Get msa_id for a given handle",params:[{name:"display_handle",type:"Vec<u8>"}],type:"Option<MessageSourceId>"},get_next_suffixes:{description:"Get next suffixes for a given handle and count",params:[{name:"base_handle",type:"Vec<u8>"},{name:"count",type:"u16"}],type:"PresumptiveSuffixesResponse"},validate_handle:{description:"Check whether the supplied handle passes all the checks performed by claim_handle call.",params:[{name:"base_handle",type:"String"}],type:"bool"}},version:2}]}},f={rpc:{getEvents:{description:"Get block Events",params:[{name:"at",type:"H256"}],type:"Vec<RpcEvent>"}},types:{RpcEvent:{phase:"Option<u32>",pallet:"u8",event:"u8",data:"Vec<u8>"}},runtime:{AdditionalRuntimeApi:[{methods:{get_events:{description:"Get the events with simple SCALE decoding",params:[],type:"Vec<RpcEvent>"}},version:1}]}},I={rpc:{computeCapacityFeeDetails:{description:"Compute the capacity fee details for a given transaction",params:[{name:"encoded_xt",type:"Vec<u8>"},{name:"at",type:"Option<BlockHash>"}],type:"FeeDetails"}},types:{},runtime:{CapacityTransactionPaymentRuntimeApi:[{methods:{compute_capacity_fee:{description:"Compute the capacity fee for a given transaction",params:[{name:"encoded_xt",type:"Vec<u8>"},{name:"at",type:"Option<BlockHash>"}],type:"FeeDetails"}}}]}},p=Object.freeze(Object.defineProperty({__proto__:null,frequency:f,frequencyTxPayment:I,handles:S,messages:u,msa:g,schemas:y,statefulStorage:_},Symbol.toStringTag,{value:"Module"}));Object.entries(p).reduce((s,[i,a])=>({...s,...a.types}),{});Object.entries(p).reduce((s,[i,a])=>({...s,[i]:a.rpc}),{});Object.entries(p).reduce((s,[i,a])=>({...s,...a.runtime}),{});function b(){const{subscribe:s,set:i,update:a}=h({request:{frequencyRpcUrl:"",providerId:"",providerName:"",isNewProvider:!0,requiredSchemas:[],missingSchemas:[],allSchemasToGrant:[]}});return{set:i,subscribe:s,update:a,updateDelegation:(t,e,n)=>a(o=>({...o,request:{...o.request,isNewProvider:t,missingSchemas:e,allSchemasToGrant:n}})),upsertExtrinsic:t=>a(e=>{var r,c,m;const n=((c=(r=e==null?void 0:e.response)==null?void 0:r.signUp)==null?void 0:c.extrinsics)||[],o=n.find(d=>d.pallet===t.pallet&&d.extrinsicName===t.extrinsicName);return o?o.encodedExtrinsic=t.encodedExtrinsic:n.push(t),n.sort((d,l)=>d.pallet===l.pallet?0:d.pallet==="msa"?-1:l.pallet==="msa"?1:0),{...e,response:{...e==null?void 0:e.response,signUp:{...(m=e==null?void 0:e.response)==null?void 0:m.signUp,extrinsics:n}}}}),updateSignInResponse:t=>a(e=>({...e,response:{...e.response,signIn:t}}))}}const R=b();export{R};
