import{s as le,e as _,c as b,m as p,i as Z,M as ne,D as K,n as ae,f as $,K as ue,k as Y,q as fe,N as W,a as H,b as N,l as E,g as D,h as u,O as B,P as pe,t as me,d as he}from"../chunks/scheduler.CSDhDYXB.js";import{S as oe,i as re,e as R,c as U,a as z,m as G,t as J,b as Q,d as X}from"../chunks/index.BJ6aBsbe.js";import{S as M}from"../chunks/SignupStore.BpfdaXyP.js";import{g as _e,b as be}from"../chunks/entry.Cqr7mXRF.js";import{d as ge,b as ve}from"../chunks/index.DY3vC1cw.js";import{W as $e}from"../chunks/WalletAddressSelector.DkiYhZ3q.js";import{F as Ae}from"../chunks/MsaAccountsDerivedStore.DzRlXne8.js";import{F as we}from"../chunks/FooterButton.BuacVUim.js";function ye(s){let e,t,o;return{c(){e=_("input"),this.h()},l(l){e=b(l,"INPUT",{class:!0,type:!0,maxlength:!0,placeholder:!0}),this.h()},h(){p(e,"class","transparent-text text-white"),p(e,"type","text"),p(e,"maxlength","20"),p(e,"placeholder","Enter your handle")},m(l,n){Z(l,e,n),ne(e,s[0]),t||(o=[K(e,"input",s[3]),K(e,"keyup",s[1]),K(e,"input",s[2])],t=!0)},p(l,[n]){n&1&&e.value!==l[0]&&ne(e,l[0])},i:ae,o:ae,d(l){l&&$(e),t=!1,ue(o)}}}function Se(s,e,t){let o;Y(s,M,r=>t(4,o=r));let l;const n=ge(f,500);async function f(){M.validateAndSetHandleStatus(l)}function g(){n()}const A=r=>{const w=/\s|\./g;t(0,l=(r==null?void 0:r.target.value.replace(w,""))||""),M.updateHandle(l)};fe(()=>{t(0,l=o.handle.baseHandle)});function m(){l=this.value,t(0,l)}return[l,g,A,m]}class xe extends oe{constructor(e){super(),re(this,e,Se,ye,le,{})}}function He(s){let e;return{c(){e=me("Next > Sign")},l(t){e=he(t,"Next > Sign")},m(t,o){Z(t,e,o)},d(t){t&&$(e)}}}function De(s){let e,t,o='<span class="text-[16px] font-bold">Claim your handle</span>',l,n,f,g="Select a key to associate with a handle",A,m,r,w,d,I,y,ee='<span class="text-sm font-bold">Claim your handle:</span>',L,v,S,F,C,j,x,te='<span class="text-xs font-normal">Handle must be between 3-20 characters &amp; can only consist of letters, numbers, and underscores</span>',P,h,q,k;function de(a){s[6](a)}function ie(a){s[7](a)}let O={accounts:Object.values(s[3])};s[1]!==void 0&&(O.selectedAccount=s[1]),s[0]!==void 0&&(O.selectedAddress=s[0]),r=new $e({props:O}),W.push(()=>R(r,"selectedAccount",de)),W.push(()=>R(r,"selectedAddress",ie)),S=new xe({});function ce(a){s[8](a)}let se={$$slots:{default:[He]},$$scope:{ctx:s}};return s[2]!==void 0&&(se.disabled=s[2]),h=new we({props:se}),W.push(()=>R(h,"disabled",ce)),h.$on("click",s[4]),{c(){e=_("div"),t=_("div"),t.innerHTML=o,l=H(),n=_("div"),f=_("div"),f.textContent=g,A=H(),m=_("div"),U(r.$$.fragment),I=H(),y=_("div"),y.innerHTML=ee,L=H(),v=_("div"),U(S.$$.fragment),F=H(),C=_("div"),j=H(),x=_("div"),x.innerHTML=te,P=H(),U(h.$$.fragment),this.h()},l(a){e=b(a,"DIV",{});var i=N(e);t=b(i,"DIV",{class:!0,"data-svelte-h":!0}),E(t)!=="svelte-1pyf36l"&&(t.innerHTML=o),l=D(i),n=b(i,"DIV",{class:!0});var c=N(n);f=b(c,"DIV",{class:!0,"data-svelte-h":!0}),E(f)!=="svelte-15srkb2"&&(f.textContent=g),A=D(c),m=b(c,"DIV",{class:!0});var V=N(m);z(r.$$.fragment,V),V.forEach($),I=D(c),y=b(c,"DIV",{class:!0,"data-svelte-h":!0}),E(y)!=="svelte-1b0us5n"&&(y.innerHTML=ee),L=D(c),v=b(c,"DIV",{class:!0});var T=N(v);z(S.$$.fragment,T),F=D(T),C=b(T,"DIV",{class:!0}),N(C).forEach($),T.forEach($),j=D(c),x=b(c,"DIV",{class:!0,"data-svelte-h":!0}),E(x)!=="svelte-1j6qy05"&&(x.innerHTML=te),c.forEach($),P=D(i),z(h.$$.fragment,i),i.forEach($),this.h()},h(){p(t,"class","flex items-center justify-center pb-9"),p(f,"class","flex"),p(m,"class","pb-9"),p(y,"class","flex pb-6"),p(C,"class","flex w-full border-t border-white"),p(v,"class","flex-col pb-3"),p(x,"class","flex w-full pb-8"),p(n,"class","flex-col")},m(a,i){Z(a,e,i),u(e,t),u(e,l),u(e,n),u(n,f),u(n,A),u(n,m),G(r,m,null),u(n,I),u(n,y),u(n,L),u(n,v),G(S,v,null),u(v,F),u(v,C),u(n,j),u(n,x),u(e,P),G(h,e,null),k=!0},p(a,[i]){const c={};i&8&&(c.accounts=Object.values(a[3])),!w&&i&2&&(w=!0,c.selectedAccount=a[1],B(()=>w=!1)),!d&&i&1&&(d=!0,c.selectedAddress=a[0],B(()=>d=!1)),r.$set(c);const V={};i&512&&(V.$$scope={dirty:i,ctx:a}),!q&&i&4&&(q=!0,V.disabled=a[2],B(()=>q=!1)),h.$set(V)},i(a){k||(J(r.$$.fragment,a),J(S.$$.fragment,a),J(h.$$.fragment,a),k=!0)},o(a){Q(r.$$.fragment,a),Q(S.$$.fragment,a),Q(h.$$.fragment,a),k=!1},d(a){a&&$(e),X(r),X(S),X(h)}}}function Ie(s,e,t){let o,l;Y(s,M,d=>t(5,o=d)),Y(s,Ae,d=>t(3,l=d));let n,f,g=!0;async function A(){const d=await ve(o.handle.baseHandle);pe(M,o.handle.payload=d,o),_e(`${be}/signup/handle-confirmation`)}function m(d){f=d,t(1,f)}function r(d){n=d,t(0,n)}function w(d){g=d,t(2,g),t(5,o)}return s.$$.update=()=>{if(s.$$.dirty&32){const{address:d,handle:I}=o;t(2,g=!d||!I.isValid||!I.isAvailable)}s.$$.dirty&1&&M.updateAddress(n)},[n,f,g,l,A,o,m,r,w]}class Fe extends oe{constructor(e){super(),re(this,e,Ie,De,le,{})}}export{Fe as component};
