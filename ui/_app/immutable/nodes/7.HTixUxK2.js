import{s as le,n as ne,d as $,K as ue,M as ae,i as Z,G as K,l as p,c as _,h as b,k as Y,q as fe,N as W,O as B,b as u,e as k,m as E,g as H,j as D,f as pe,t as me,P as he}from"../chunks/CKFRV2U2.js";import{S as oe,i as re,e as G,d as R,t as U,a as z,m as J,c as Q,b as X}from"../chunks/C4UniOSA.js";import{k as _e,S as M,l as be}from"../chunks/Bz1-qmYa.js";import{g as ge,b as ve}from"../chunks/DklrAeTm.js";import{W as $e}from"../chunks/D2EjFFxv.js";import{F as Ae}from"../chunks/D5uLV3di.js";import{F as we}from"../chunks/CcuJL688.js";function ye(s){let e,t,o;return{c(){e=b("input"),this.h()},l(l){e=_(l,"INPUT",{class:!0,type:!0,maxlength:!0,placeholder:!0}),this.h()},h(){p(e,"class","transparent-text text-white"),p(e,"type","text"),p(e,"maxlength","20"),p(e,"placeholder","Enter your handle")},m(l,n){Z(l,e,n),ae(e,s[0]),t||(o=[K(e,"input",s[3]),K(e,"keyup",s[1]),K(e,"input",s[2])],t=!0)},p(l,[n]){n&1&&e.value!==l[0]&&ae(e,l[0])},i:ne,o:ne,d(l){l&&$(e),t=!1,ue(o)}}}function Se(s,e,t){let o;Y(s,M,r=>t(4,o=r));let l;const n=_e(f,500);async function f(){M.validateAndSetHandleStatus(l)}function g(){n()}const A=r=>{const w=/\s|\./g;t(0,l=(r==null?void 0:r.target.value.replace(w,""))||""),M.updateHandle(l)};fe(()=>{t(0,l=o.handle.baseHandle)});function m(){l=this.value,t(0,l)}return[l,g,A,m]}class xe extends oe{constructor(e){super(),re(this,e,Se,ye,le,{})}}function He(s){let e;return{c(){e=me("Next > Sign")},l(t){e=pe(t,"Next > Sign")},m(t,o){Z(t,e,o)},d(t){t&&$(e)}}}function De(s){let e,t,o='<span class="text-[16px] font-bold">Claim your handle</span>',l,n,f,g="Select a key to associate with a handle",A,m,r,w,d,I,y,ee='<span class="text-sm font-bold">Claim your handle:</span>',L,v,S,j,C,F,x,te='<span class="text-xs font-normal">Handle must be between 3-20 characters &amp; can only consist of letters, numbers, and underscores</span>',P,h,q,N;function de(a){s[6](a)}function ie(a){s[7](a)}let O={accounts:Object.values(s[3])};s[1]!==void 0&&(O.selectedAccount=s[1]),s[0]!==void 0&&(O.selectedAddress=s[0]),r=new $e({props:O}),W.push(()=>G(r,"selectedAccount",de)),W.push(()=>G(r,"selectedAddress",ie)),S=new xe({});function ce(a){s[8](a)}let se={$$slots:{default:[He]},$$scope:{ctx:s}};return s[2]!==void 0&&(se.disabled=s[2]),h=new we({props:se}),W.push(()=>G(h,"disabled",ce)),h.$on("click",s[4]),{c(){e=b("div"),t=b("div"),t.innerHTML=o,l=D(),n=b("div"),f=b("div"),f.textContent=g,A=D(),m=b("div"),X(r.$$.fragment),I=D(),y=b("div"),y.innerHTML=ee,L=D(),v=b("div"),X(S.$$.fragment),j=D(),C=b("div"),F=D(),x=b("div"),x.innerHTML=te,P=D(),X(h.$$.fragment),this.h()},l(a){e=_(a,"DIV",{});var i=k(e);t=_(i,"DIV",{class:!0,"data-svelte-h":!0}),E(t)!=="svelte-1pyf36l"&&(t.innerHTML=o),l=H(i),n=_(i,"DIV",{class:!0});var c=k(n);f=_(c,"DIV",{class:!0,"data-svelte-h":!0}),E(f)!=="svelte-15srkb2"&&(f.textContent=g),A=H(c),m=_(c,"DIV",{class:!0});var V=k(m);Q(r.$$.fragment,V),V.forEach($),I=H(c),y=_(c,"DIV",{class:!0,"data-svelte-h":!0}),E(y)!=="svelte-1b0us5n"&&(y.innerHTML=ee),L=H(c),v=_(c,"DIV",{class:!0});var T=k(v);Q(S.$$.fragment,T),j=H(T),C=_(T,"DIV",{class:!0}),k(C).forEach($),T.forEach($),F=H(c),x=_(c,"DIV",{class:!0,"data-svelte-h":!0}),E(x)!=="svelte-1j6qy05"&&(x.innerHTML=te),c.forEach($),P=H(i),Q(h.$$.fragment,i),i.forEach($),this.h()},h(){p(t,"class","flex items-center justify-center pb-9"),p(f,"class","flex"),p(m,"class","pb-9"),p(y,"class","flex pb-6"),p(C,"class","flex w-full border-t border-white"),p(v,"class","flex-col pb-3"),p(x,"class","flex w-full pb-8"),p(n,"class","flex-col")},m(a,i){Z(a,e,i),u(e,t),u(e,l),u(e,n),u(n,f),u(n,A),u(n,m),J(r,m,null),u(n,I),u(n,y),u(n,L),u(n,v),J(S,v,null),u(v,j),u(v,C),u(n,F),u(n,x),u(e,P),J(h,e,null),N=!0},p(a,[i]){const c={};i&8&&(c.accounts=Object.values(a[3])),!w&&i&2&&(w=!0,c.selectedAccount=a[1],B(()=>w=!1)),!d&&i&1&&(d=!0,c.selectedAddress=a[0],B(()=>d=!1)),r.$set(c);const V={};i&512&&(V.$$scope={dirty:i,ctx:a}),!q&&i&4&&(q=!0,V.disabled=a[2],B(()=>q=!1)),h.$set(V)},i(a){N||(z(r.$$.fragment,a),z(S.$$.fragment,a),z(h.$$.fragment,a),N=!0)},o(a){U(r.$$.fragment,a),U(S.$$.fragment,a),U(h.$$.fragment,a),N=!1},d(a){a&&$(e),R(r),R(S),R(h)}}}function Ie(s,e,t){let o,l;Y(s,M,d=>t(5,o=d)),Y(s,Ae,d=>t(3,l=d));let n,f,g=!0;async function A(){const d=await be(o.handle.baseHandle);he(M,o.handle.payload=d,o),ge(`${ve}/signup/handle-confirmation`)}function m(d){f=d,t(1,f)}function r(d){n=d,t(0,n)}function w(d){g=d,t(2,g),t(5,o)}return s.$$.update=()=>{if(s.$$.dirty&32){const{address:d,handle:I}=o;t(2,g=!d||!I.isValid||!I.isAvailable)}s.$$.dirty&1&&M.updateAddress(n)},[n,f,g,l,A,o,m,r,w]}class Le extends oe{constructor(e){super(),re(this,e,Ie,De,le,{})}}export{Le as component};
