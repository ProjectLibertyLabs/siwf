import{s as L,d as x,i as C,g as $,j as b,k as P,n as R,l as p,c as m,m as _,h as u,a as j,b as d,e as E,f as A,t as F}from"../chunks/CKFRV2U2.js";import{S as z,i as B,d as V,t as k,a as N,m as q,c as T,b as M}from"../chunks/C4UniOSA.js";import{a as O,e as G,S as J}from"../chunks/Bz1-qmYa.js";import{F as K}from"../chunks/CcuJL688.js";import{P as Q}from"../chunks/mq_gOYpb.js";import{C as U}from"../chunks/D4AlWJD_.js";import{R as W}from"../chunks/BemOOD-p.js";import{g as X,b as Y}from"../chunks/DklrAeTm.js";function Z(o){let t,n="Here is what you are going to sign";return{c(){t=u("span"),t.textContent=n,this.h()},l(a){t=m(a,"SPAN",{slot:!0,class:!0,"data-svelte-h":!0}),_(t)!=="svelte-tfqsrb"&&(t.textContent=n),this.h()},h(){p(t,"slot","heading"),p(t,"class","text-md font-bold")},m(a,r){C(a,t,r)},p:R,d(a){a&&x(t)}}}function tt(o){let t,n="Make sure to come back";return{c(){t=u("span"),t.textContent=n,this.h()},l(a){t=m(a,"SPAN",{slot:!0,"data-svelte-h":!0}),_(t)!=="svelte-85xzwo"&&(t.textContent=n),this.h()},h(){p(t,"slot","subheading")},m(a,r){C(a,t,r)},p:R,d(a){a&&x(t)}}}function et(o){let t,n,a="Operation:",r,e,l="Claim Handle",s,c,w='<hr class="flex-grow pb-1 pt-2"/>',S,f,D="Handle:",H,g,v=o[0].raw.baseHandle+"",y;return{c(){t=u("div"),n=u("div"),n.textContent=a,r=b(),e=u("div"),e.textContent=l,s=b(),c=u("div"),c.innerHTML=w,S=b(),f=u("div"),f.textContent=D,H=b(),g=u("div"),y=F(v),this.h()},l(h){t=m(h,"DIV",{slot:!0});var i=E(t);n=m(i,"DIV",{class:!0,"data-svelte-h":!0}),_(n)!=="svelte-1s1o989"&&(n.textContent=a),r=$(i),e=m(i,"DIV",{class:!0,"data-svelte-h":!0}),_(e)!=="svelte-vdiblk"&&(e.textContent=l),s=$(i),c=m(i,"DIV",{class:!0,"data-svelte-h":!0}),_(c)!=="svelte-xy1vsq"&&(c.innerHTML=w),S=$(i),f=m(i,"DIV",{class:!0,"data-svelte-h":!0}),_(f)!=="svelte-1p71uog"&&(f.textContent=D),H=$(i),g=m(i,"DIV",{class:!0});var I=E(g);y=A(I,v),I.forEach(x),i.forEach(x),this.h()},h(){p(n,"class","text-sm font-bold"),p(e,"class","text-sm font-normal"),p(c,"class","pb-1 pt-2"),p(f,"class","text-sm font-bold"),p(g,"class","text-sm font-normal"),p(t,"slot","payloadDescription")},m(h,i){C(h,t,i),d(t,n),d(t,r),d(t,e),d(t,s),d(t,c),d(t,S),d(t,f),d(t,H),d(t,g),d(g,y)},p(h,i){i&1&&v!==(v=h[0].raw.baseHandle+"")&&j(y,v)},d(h){h&&x(t)}}}function at(o){let t;return{c(){t=F("Next > Sign")},l(n){t=A(n,"Next > Sign")},m(n,a){C(n,t,a)},d(n){n&&x(t)}}}function nt(o){let t,n,a,r;return t=new Q({props:{payload:o[0].bytes,$$slots:{payloadDescription:[et],subheading:[tt],heading:[Z]},$$scope:{ctx:o}}}),a=new K({props:{$$slots:{default:[at]},$$scope:{ctx:o}}}),a.$on("click",o[1]),{c(){M(t.$$.fragment),n=b(),M(a.$$.fragment)},l(e){T(t.$$.fragment,e),n=$(e),T(a.$$.fragment,e)},m(e,l){q(t,e,l),C(e,n,l),q(a,e,l),r=!0},p(e,[l]){const s={};l&1&&(s.payload=e[0].bytes),l&17&&(s.$$scope={dirty:l,ctx:e}),t.$set(s);const c={};l&16&&(c.$$scope={dirty:l,ctx:e}),a.$set(c)},i(e){r||(N(t.$$.fragment,e),N(a.$$.fragment,e),r=!0)},o(e){k(t.$$.fragment,e),k(a.$$.fragment,e),r=!1},d(e){e&&x(n),V(t,e),V(a,e)}}}function st(o,t,n){let a,r;P(o,J,s=>n(2,a=s)),P(o,U,s=>n(3,r=s));let e;async function l(){try{const s=await O(r,a.address,e.bytes),c=(await G(a.address,{Sr25519:s.toString()},e.bytes)).toHex();W.upsertExtrinsic({pallet:"handles",extrinsicName:"claimHandle",encodedExtrinsic:c}),console.dir({msg:"Signature",signature:s,tx:c}),X(`${Y}/signup/create-account`)}catch(s){console.error("Payload not signed",s)}}return o.$$.update=()=>{o.$$.dirty&4&&n(0,e=a.handle.payload)},[e,l,a]}class ut extends z{constructor(t){super(),B(this,t,st,nt,L,{})}}export{ut as component};
