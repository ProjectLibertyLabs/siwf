import{s as Z,V as Y,e as k,a as H,t as se,c as E,b as D,f as p,g as L,d as ie,m as N,i as I,h as M,D as ee,j as ce,K as fe,k as P,B as ue,o as de,L as me,l as te,n as he}from"../chunks/scheduler.CSDhDYXB.js";import{S as F,i as q,c as y,a as j,m as S,g as R,b as _,d as C,f as K,t as h}from"../chunks/index.BJ6aBsbe.js";import{C as U,E as b,e as T,O as pe,A as _e,d as ge,B as V,b as $e}from"../chunks/CachedExtensionsStore.DLg2jkD0.js";import{e as ne}from"../chunks/each.D6YF6ztN.js";import{I as B}from"../chunks/Icon.BXKaAZhc.js";import{C as be}from"../chunks/CurrentSelectedExtensionIdStore.DIjI68Ql.js";import{g as le,b as ae}from"../chunks/entry.BlOT3xAU.js";import{a as xe}from"../chunks/MsaAccountsDerivedStore.szIoseEa.js";import{p as ve}from"../chunks/stores.Bv4cdAPr.js";const we={width:24,height:24,body:'<path fill="currentColor" d="M5 20h14v-2H5v2zM19 9h-4V3H9v6H5l7 7l7-7z"/>'};var ke=we;const Ee={width:24,height:24,body:'<path fill="currentColor" d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10s10-4.48 10-10S17.52 2 12 2zM4 12c0-4.42 3.58-8 8-8c1.85 0 3.55.63 4.9 1.69L5.69 16.9A7.902 7.902 0 0 1 4 12zm8 8c-1.85 0-3.55-.63-4.9-1.69L18.31 7.1A7.902 7.902 0 0 1 20 12c0 4.42-3.58 8-8 8z"/>'};var Ne=Ee;const ye={width:24,height:24,body:'<path fill="currentColor" d="M9 16.17L4.83 12l-1.42 1.41L9 19L21 7l-1.41-1.41z"/>'};var Se=ye;const Ce={width:24,height:24,body:'<path fill="currentColor" d="M21.4 7.5c.8.8.8 2.1 0 2.8l-2.8 2.8l-7.8-7.8l2.8-2.8c.8-.8 2.1-.8 2.8 0l1.8 1.8l3-3l1.4 1.4l-3 3l1.8 1.8m-5.8 5.8l-1.4-1.4l-2.8 2.8l-2.1-2.1l2.8-2.8l-1.4-1.4l-2.8 2.8l-1.5-1.4l-2.8 2.8c-.8.8-.8 2.1 0 2.8l1.8 1.8l-4 4l1.4 1.4l4-4l1.8 1.8c.8.8 2.1.8 2.8 0l2.8-2.8l-1.4-1.4l2.8-2.9Z"/>'};var ze=Ce;function Me(o){let e,l;return e=new B({props:{icon:Se,class:"h-[25px] w-[25px]"}}),{c(){y(e.$$.fragment)},l(t){j(e.$$.fragment,t)},m(t,n){S(e,t,n),l=!0},i(t){l||(h(e.$$.fragment,t),l=!0)},o(t){_(e.$$.fragment,t),l=!1},d(t){C(e,t)}}}function je(o){let e,l;return e=new B({props:{icon:Ne,class:"h-[25px] w-[25px]"}}),{c(){y(e.$$.fragment)},l(t){j(e.$$.fragment,t)},m(t,n){S(e,t,n),l=!0},i(t){l||(h(e.$$.fragment,t),l=!0)},o(t){_(e.$$.fragment,t),l=!1},d(t){C(e,t)}}}function Ae(o){let e,l;return e=new B({props:{icon:ze,class:"h-[25px] w-[25px]"}}),{c(){y(e.$$.fragment)},l(t){j(e.$$.fragment,t)},m(t,n){S(e,t,n),l=!0},i(t){l||(h(e.$$.fragment,t),l=!0)},o(t){_(e.$$.fragment,t),l=!1},d(t){C(e,t)}}}function De(o){let e,l;return e=new B({props:{icon:ke,class:"h-[25px] w-[25px]"}}),{c(){y(e.$$.fragment)},l(t){j(e.$$.fragment,t)},m(t,n){S(e,t,n),l=!0},i(t){l||(h(e.$$.fragment,t),l=!0)},o(t){_(e.$$.fragment,t),l=!1},d(t){C(e,t)}}}function Ie(o){let e,l,t,n,f,r,s=o[0].displayName+"",a,c,i,m,d,x,O,A;var v=o[0].logo.component;function G(u,g){return{props:{size:"30"}}}v&&(n=Y(v,G()));const X=[De,Ae,je,Me],z=[];function J(u,g){var $,w,W;return u[1].installed?(($=u[1])==null?void 0:$.authorized)===b.None?1:((w=u[1])==null?void 0:w.authorized)===b.Rejected?2:((W=u[1])==null?void 0:W.authorized)===b.Authorized?3:-1:0}return~(m=J(o))&&(d=z[m]=X[m](o)),{c(){e=k("div"),l=k("div"),t=k("div"),n&&y(n.$$.fragment),f=H(),r=k("div"),a=se(s),c=H(),i=k("div"),d&&d.c(),this.h()},l(u){e=E(u,"DIV",{role:!0,tabindex:!0,class:!0});var g=D(e);l=E(g,"DIV",{class:!0});var $=D(l);t=E($,"DIV",{});var w=D(t);n&&j(n.$$.fragment,w),w.forEach(p),f=L($),r=E($,"DIV",{class:!0});var W=D(r);a=ie(W,s),W.forEach(p),$.forEach(p),c=L(g),i=E(g,"DIV",{});var Q=D(i);d&&d.l(Q),Q.forEach(p),g.forEach(p),this.h()},h(){N(r,"class","text-left text-xs font-bold"),N(l,"class","flex flex-col gap-2"),N(e,"role","button"),N(e,"tabindex","0"),N(e,"class","flex w-[100%] items-start justify-between rounded-lg bg-white bg-opacity-20 p-3 font-bold")},m(u,g){I(u,e,g),M(e,l),M(l,t),n&&S(n,t,null),M(l,f),M(l,r),M(r,a),M(e,c),M(e,i),~m&&z[m].m(i,null),x=!0,O||(A=[ee(e,"keydown",o[3]),ee(e,"click",o[5])],O=!0)},p(u,[g]){if(g&1&&v!==(v=u[0].logo.component)){if(n){R();const w=n;_(w.$$.fragment,1,0,()=>{C(w,1)}),K()}v?(n=Y(v,G()),y(n.$$.fragment),h(n.$$.fragment,1),S(n,t,null)):n=null}(!x||g&1)&&s!==(s=u[0].displayName+"")&&ce(a,s);let $=m;m=J(u),m!==$&&(d&&(R(),_(z[$],1,1,()=>{z[$]=null}),K()),~m?(d=z[m],d||(d=z[m]=X[m](u),d.c()),h(d,1),d.m(i,null)):d=null)},i(u){x||(n&&h(n.$$.fragment,u),h(d),x=!0)},o(u){n&&_(n.$$.fragment,u),_(d),x=!1},d(u){u&&p(e),n&&C(n),~m&&z[m].d(),O=!1,fe(A)}}}function Oe(o,e,l){let t,n;P(o,U,i=>l(4,n=i));const f=ue();let{extensionMetadata:r}=e;function s(){f("walletSelected",{injectedName:r.injectedName})}function a(i){switch(i.key){case" ":{i.stopPropagation,s();break}}}const c=()=>s();return o.$$set=i=>{"extensionMetadata"in i&&l(0,r=i.extensionMetadata)},o.$$.update=()=>{o.$$.dirty&17&&l(1,t=(n==null?void 0:n[r.injectedName])??{injectedName:r.injectedName,installed:!1,authorized:b.None})},[r,t,s,a,n,c]}class We extends F{constructor(e){super(),q(this,e,Oe,Ie,Z,{extensionMetadata:0})}}function re(o,e,l){const t=o.slice();return t[2]=e[l],t}function oe(o){let e,l;return e=new We({props:{extensionMetadata:o[2]}}),e.$on("walletSelected",function(){me(o[1])&&o[1].apply(this,arguments)}),{c(){y(e.$$.fragment)},l(t){j(e.$$.fragment,t)},m(t,n){S(e,t,n),l=!0},p(t,n){o=t;const f={};n&1&&(f.extensionMetadata=o[2]),e.$set(f)},i(t){l||(h(e.$$.fragment,t),l=!0)},o(t){_(e.$$.fragment,t),l=!1},d(t){C(e,t)}}}function Ve(o){let e,l,t=ne(o[0]),n=[];for(let r=0;r<t.length;r+=1)n[r]=oe(re(o,t,r));const f=r=>_(n[r],1,1,()=>{n[r]=null});return{c(){e=k("div");for(let r=0;r<n.length;r+=1)n[r].c();this.h()},l(r){e=E(r,"DIV",{class:!0});var s=D(e);for(let a=0;a<n.length;a+=1)n[a].l(s);s.forEach(p),this.h()},h(){N(e,"class","container grid w-full grid-flow-row-dense grid-cols-2 gap-2")},m(r,s){I(r,e,s);for(let a=0;a<n.length;a+=1)n[a]&&n[a].m(e,null);l=!0},p(r,[s]){if(s&3){t=ne(r[0]);let a;for(a=0;a<t.length;a+=1){const c=re(r,t,a);n[a]?(n[a].p(c,s),h(n[a],1)):(n[a]=oe(c),n[a].c(),h(n[a],1),n[a].m(e,null))}for(R(),a=t.length;a<n.length;a+=1)f(a);K()}},i(r){if(!l){for(let s=0;s<t.length;s+=1)h(n[s]);l=!0}},o(r){n=n.filter(Boolean);for(let s=0;s<n.length;s+=1)_(n[s]);l=!1},d(r){r&&p(e),de(n,r)}}}function Ue(o,e,l){let{extensions:t=Object.values(T)}=e,{onSelectedWallet:n}=e;return o.$$set=f=>{"extensions"in f&&l(0,t=f.extensions),"onSelectedWallet"in f&&l(1,n=f.onSelectedWallet)},[t,n]}class Pe extends F{constructor(e){super(),q(this,e,Ue,Ve,Z,{extensions:0,onSelectedWallet:1})}}function He(o){let e,l="Connect your wallet",t,n,f="Select a wallet from this list",r,s,a;return s=new Pe({props:{onSelectedWallet:o[0],extensions:Object.values(T)}}),{c(){e=k("div"),e.textContent=l,t=H(),n=k("div"),n.textContent=f,r=H(),y(s.$$.fragment),this.h()},l(c){e=E(c,"DIV",{class:!0,"data-svelte-h":!0}),te(e)!=="svelte-6w28t1"&&(e.textContent=l),t=L(c),n=E(c,"DIV",{class:!0,"data-svelte-h":!0}),te(n)!=="svelte-1g1dvas"&&(n.textContent=f),r=L(c),j(s.$$.fragment,c),this.h()},h(){N(e,"class","pb-[84px] text-center text-[16px] font-bold"),N(n,"class","pb-[17px] text-center text-sm font-bold")},m(c,i){I(c,e,i),I(c,t,i),I(c,n,i),I(c,r,i),S(s,c,i),a=!0},p:he,i(c){a||(h(s.$$.fragment,c),a=!0)},o(c){_(s.$$.fragment,c),a=!1},d(c){c&&(p(e),p(t),p(n),p(r)),C(s,c)}}}function Le(o,e,l){let t,n,f;P(o,ve,a=>l(1,t=a)),P(o,xe,a=>l(2,n=a)),P(o,U,a=>l(3,f=a));const r=a=>a instanceof Error?a.message:String(a);return[async a=>{var m,d,x;const{injectedName:c}=a.detail,i=f[c];if(i.installed){const O=new pe(window.injectedWeb3,_e);try{await O.connect(c),i.authorized=b.Authorized,U.updateExtension(i)}catch(A){if(i.authorized=b.None,A instanceof ge)switch(A.reason){case V.NO_EXTENSION:i.installed=!1;break;case V.UNKNOWN:case V.PENDING_AUTH:i.authorized=b.None;break;case V.UNAUTHORIZED:case V.NO_ACCOUNTS_AUTHORIZED:i.authorized=b.Rejected;break}const v=r(A);console.error(v),U.updateExtension(i)}}else $e(c)?(i.installed=!0,U.updateExtension(i)):(x=(d=(m=T)==null?void 0:m[c])==null?void 0:d.downloadUrl)!=null&&x.browser&&window.open(T[c].downloadUrl.browser,"_blank");i.installed&&i.authorized===b.Authorized&&(be.set(i.injectedName),Object.keys(n).length===0?le(`${ae}/signup/handle?${t.url.searchParams}`):le(`${ae}/signin/accounts`))}]}class Je extends F{constructor(e){super(),q(this,e,Le,He,Z,{})}}export{Je as component};
