import{S as le,i as oe,s as re,n as ne,d as $,R as ue,U as ae,b as Z,O as W,v as f,e as _,j as b,l as Q,z as pe,V as R,W as U,m as z,o as B,p as K,X,c as u,q as Y,f as k,w as j,h as H,r as G,k as D,u as J,g as fe,t as he,Y as me}from"../chunks/DDfy8cKU.js";import"../chunks/IHki7fMi.js";import{i as _e,S as C,j as be}from"../chunks/Co0xxR5R.js";import{g as ge,b as ve}from"../chunks/C3LnTUjX.js";import{W as $e}from"../chunks/wepwe_yX.js";import{F as Ae}from"../chunks/D9Y3WYr6.js";import{F as we}from"../chunks/BhBRXKnp.js";function ye(s){let e,t,o;return{c(){e=b("input"),this.h()},l(l){e=_(l,"INPUT",{class:!0,type:!0,maxlength:!0,placeholder:!0}),this.h()},h(){f(e,"class","transparent-text text-white"),f(e,"type","text"),f(e,"maxlength","20"),f(e,"placeholder","Enter your handle")},m(l,n){Z(l,e,n),ae(e,s[0]),t||(o=[W(e,"input",s[3]),W(e,"keyup",s[1]),W(e,"input",s[2])],t=!0)},p(l,[n]){n&1&&e.value!==l[0]&&ae(e,l[0])},i:ne,o:ne,d(l){l&&$(e),t=!1,ue(o)}}}function Se(s,e,t){let o;Q(s,C,r=>t(4,o=r));let l;const n=_e(p,500);async function p(){C.validateAndSetHandleStatus(l)}function g(){n()}const A=r=>{const w=/\s|\./g;t(0,l=(r==null?void 0:r.target.value.replace(w,""))||""),C.updateHandle(l)};pe(()=>{t(0,l=o.handle.baseHandle)});function h(){l=this.value,t(0,l)}return[l,g,A,h]}class xe extends le{constructor(e){super(),oe(this,e,Se,ye,re,{})}}function He(s){let e;return{c(){e=he("Next > Sign")},l(t){e=fe(t,"Next > Sign")},m(t,o){Z(t,e,o)},d(t){t&&$(e)}}}function De(s){let e,t,o='<span class="text-[16px] font-bold">Claim your handle</span>',l,n,p,g="Select a key to associate with a handle",A,h,r,w,d,V,y,ee='<span class="text-sm font-bold">Claim your handle:</span>',E,v,S,L,M,F,x,te='<span class="text-xs font-normal">Handle must be between 3-20 characters &amp; can only consist of letters, numbers, and underscores</span>',q,m,O,N;function de(a){s[6](a)}function ie(a){s[7](a)}let P={accounts:Object.values(s[3])};s[1]!==void 0&&(P.selectedAccount=s[1]),s[0]!==void 0&&(P.selectedAddress=s[0]),r=new $e({props:P}),R.push(()=>U(r,"selectedAccount",de)),R.push(()=>U(r,"selectedAddress",ie)),S=new xe({});function ce(a){s[8](a)}let se={$$slots:{default:[He]},$$scope:{ctx:s}};return s[2]!==void 0&&(se.disabled=s[2]),m=new we({props:se}),R.push(()=>U(m,"disabled",ce)),m.$on("click",s[4]),{c(){e=b("div"),t=b("div"),t.innerHTML=o,l=D(),n=b("div"),p=b("div"),p.textContent=g,A=D(),h=b("div"),J(r.$$.fragment),V=D(),y=b("div"),y.innerHTML=ee,E=D(),v=b("div"),J(S.$$.fragment),L=D(),M=b("div"),F=D(),x=b("div"),x.innerHTML=te,q=D(),J(m.$$.fragment),this.h()},l(a){e=_(a,"DIV",{});var i=k(e);t=_(i,"DIV",{class:!0,"data-svelte-h":!0}),j(t)!=="svelte-1pyf36l"&&(t.innerHTML=o),l=H(i),n=_(i,"DIV",{class:!0});var c=k(n);p=_(c,"DIV",{class:!0,"data-svelte-h":!0}),j(p)!=="svelte-15srkb2"&&(p.textContent=g),A=H(c),h=_(c,"DIV",{class:!0});var I=k(h);G(r.$$.fragment,I),I.forEach($),V=H(c),y=_(c,"DIV",{class:!0,"data-svelte-h":!0}),j(y)!=="svelte-1b0us5n"&&(y.innerHTML=ee),E=H(c),v=_(c,"DIV",{class:!0});var T=k(v);G(S.$$.fragment,T),L=H(T),M=_(T,"DIV",{class:!0}),k(M).forEach($),T.forEach($),F=H(c),x=_(c,"DIV",{class:!0,"data-svelte-h":!0}),j(x)!=="svelte-1j6qy05"&&(x.innerHTML=te),c.forEach($),q=H(i),G(m.$$.fragment,i),i.forEach($),this.h()},h(){f(t,"class","flex items-center justify-center pb-9"),f(p,"class","flex"),f(h,"class","pb-9"),f(y,"class","flex pb-6"),f(M,"class","flex w-full border-t border-white"),f(v,"class","flex-col pb-3"),f(x,"class","flex w-full pb-8"),f(n,"class","flex-col")},m(a,i){Z(a,e,i),u(e,t),u(e,l),u(e,n),u(n,p),u(n,A),u(n,h),Y(r,h,null),u(n,V),u(n,y),u(n,E),u(n,v),Y(S,v,null),u(v,L),u(v,M),u(n,F),u(n,x),u(e,q),Y(m,e,null),N=!0},p(a,[i]){const c={};i&8&&(c.accounts=Object.values(a[3])),!w&&i&2&&(w=!0,c.selectedAccount=a[1],X(()=>w=!1)),!d&&i&1&&(d=!0,c.selectedAddress=a[0],X(()=>d=!1)),r.$set(c);const I={};i&512&&(I.$$scope={dirty:i,ctx:a}),!O&&i&4&&(O=!0,I.disabled=a[2],X(()=>O=!1)),m.$set(I)},i(a){N||(K(r.$$.fragment,a),K(S.$$.fragment,a),K(m.$$.fragment,a),N=!0)},o(a){B(r.$$.fragment,a),B(S.$$.fragment,a),B(m.$$.fragment,a),N=!1},d(a){a&&$(e),z(r),z(S),z(m)}}}function Ve(s,e,t){let o,l;Q(s,C,d=>t(5,o=d)),Q(s,Ae,d=>t(3,l=d));let n,p,g=!0;async function A(){const d=await be(o.handle.baseHandle);me(C,o.handle.payload=d,o),ge(`${ve}/signup/handle-confirmation`)}function h(d){p=d,t(1,p)}function r(d){n=d,t(0,n)}function w(d){g=d,t(2,g),t(5,o)}return s.$$.update=()=>{if(s.$$.dirty&32){const{address:d,handle:V}=o;t(2,g=!d||!V.isValid||!V.isAvailable)}s.$$.dirty&1&&C.updateAddress(n)},[n,p,g,l,A,o,h,r,w]}class Ee extends le{constructor(e){super(),oe(this,e,Ve,De,re,{})}}export{Ee as component};
