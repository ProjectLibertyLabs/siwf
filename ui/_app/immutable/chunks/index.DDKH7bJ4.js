import{j as i,F as r,D as c,R as l,A as d,l as u,d as w,W as y}from"./CachedExtensionsStore.BhSHGGVC.js";async function m(a){return(await y(a,5)).suffixes.length>=5}function p(a,e){let t;return(...n)=>{clearTimeout(t),t=window.setTimeout(()=>a(...n),e)}}async function f(a){const t=await i()+50,n=await c(t,a);return{raw:{baseHandle:a,expiration:t},bytes:n}}async function P(a,e,t){try{const n=new l(window.injectedWeb3,d);return await n.connect(a),await n.signMessageWithWrappedBytes(t,e)}catch(n){throw console.error("Error while signing message",n),n}}async function W(a,e){const n=await i()+50,s=await r(n,a,e);return{raw:{authorizedMsaId:a,expiration:n,schemaIds:e},bytes:s}}let o;const b=async()=>o??(o=await u.create()),h=async a=>{(await b()).sendEvent(w.WalletProxyResponseMessage,a)};export{P as a,f as b,m as c,p as d,b as e,W as g,h as s};
