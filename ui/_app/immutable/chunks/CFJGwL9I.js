import{C as l,T as A,E as o,r as f,A as m,e as E,M as z,G as n}from"./Co0xxR5R.js";import{d as j}from"./yMXGBHA-.js";import"./IHki7fMi.js";let O;const b=new Promise(t=>{O=t});async function p(t,s){var d;const i={},r=await b;for(const e of Object.values(t)){const N={...e};if(e.installed=A(e.injectedName),r&&e.installed&&e.authorized===o.Authorized){const c=new f(r,m);try{await c.connect(e.injectedName);const a=await c.getAccounts(),h=(d=E)==null?void 0:d[e.injectedName],u={...e,...h,connector:c,accounts:a};i[u.injectedName]=u,e.authorized=o.Authorized}catch(a){if(a instanceof z)switch(a.reason){case n.UNKNOWN:case n.PENDING_AUTH:e.authorized=o.None;break;case n.NO_ACCOUNTS_AUTHORIZED:case n.UNAUTHORIZED:e.authorized=o.Rejected;break;case n.NO_EXTENSION:e.installed=!1;break}console.error(a)}}(N.authorized!==e.authorized||N.installed!==e.installed)&&l.updateExtension(e)}s(i)}const x=j([l],([t],s)=>{p(t,s)},{});export{x as C,O as r};
