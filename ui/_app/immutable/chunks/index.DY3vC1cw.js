import{G as i,Z as r,W as c,F as l,A as d,h as u,d as w,Y as y}from"./CachedExtensionsStore.BIpYKcFJ.js";async function m(a){return(await y(a,5)).suffixes.length>=5}function p(a,e){let t;return(...n)=>{clearTimeout(t),t=window.setTimeout(()=>a(...n),e)}}async function h(a){const t=await i()+50,n=await c(t,a);return{raw:{baseHandle:a,expiration:t},bytes:n}}async function f(a,e,t){try{const n=new l(window.injectedWeb3,d);return await n.connect(a),await n.signMessageWithWrappedBytes(t,e)}catch(n){throw console.error("Error while signing message",n),n}}async function P(a,e){const n=await i()+50,s=await r(n,a,e);return{raw:{authorizedMsaId:a,expiration:n,schemaIds:e},bytes:s}}let o;const b=async()=>o??(o=await u.create()),W=async a=>{(await b()).sendEvent(w.WalletProxyResponseMessage,a)};export{f as a,h as b,m as c,p as d,b as e,P as g,W as s};
