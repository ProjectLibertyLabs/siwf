<!DOCTYPE HTML>
<html lang="en" class="light sidebar-visible" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Start Login - Sign In With Frequency</title>


        <!-- Custom HTML head -->

        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" type="image/svg+xml" href="../favicon.svg">
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
        <link rel="stylesheet" href="../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <!-- Custom theme stylesheets -->
        <link rel="stylesheet" href="../css/highlight.css">
        <link rel="stylesheet" href="../css/highlight-dark.css">
        <link rel="stylesheet" href="../css/tailwind-short.css">
        <link rel="stylesheet" href="../css/button-links.css">
        <link rel="stylesheet" href="../css/generator.css">
        <link rel="stylesheet" href="../css/overrides.css">


        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "coal" : "light";
        </script>
        <!-- Start loading toc.js asap -->
        <script src="../toc.js"></script>
    </head>
    <body>
    <div id="body-container">
        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            const html = document.documentElement;
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add("js");
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var sidebar = null;
            var sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            sidebar_toggle.checked = sidebar === 'visible';
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <!-- populated by js -->
            <mdbook-sidebar-scrollbox class="sidebar-scrollbox"></mdbook-sidebar-scrollbox>
            <noscript>
                <iframe class="sidebar-iframe-outer" src="../toc.html"></iframe>
            </noscript>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <!-- Track and set sidebar scroll position -->
        <script>
            var sidebarScrollbox = document.querySelector('#sidebar .sidebar-scrollbox');
            sidebarScrollbox.addEventListener('click', function(e) {
                if (e.target.tagName === 'A') {
                    sessionStorage.setItem('sidebar-scroll', sidebarScrollbox.scrollTop);
                }
            }, { passive: true });
            var sidebarScrollTop = sessionStorage.getItem('sidebar-scroll');
            sessionStorage.removeItem('sidebar-scroll');
            if (sidebarScrollTop) {
                // preserve sidebar scroll position when navigating via links within sidebar
                sidebarScrollbox.scrollTop = sidebarScrollTop;
            } else {
                // scroll sidebar to current active section when navigating via "next/previous chapter" buttons
                var activeSection = document.querySelector('#sidebar .active');
                if (activeSection) {
                    activeSection.scrollIntoView({ block: 'center' });
                }
            }
        </script>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Dark</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title"></h1>

                    <div class="right-buttons">
                        <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        <a href="https://github.com/ProjectLibertyLabs/siwf" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>
                        <a href="https://github.com/ProjectLibertyLabs/siwf/blob/main/docs/src/Actions/Start.md" title="Suggest an edit" aria-label="Suggest an edit">
                            <i id="git-edit-button" class="fa fa-edit"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Type to search..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="redirect-user-to-a-siwf-compatible-service-eg-frequency-access"><a class="header" href="#redirect-user-to-a-siwf-compatible-service-eg-frequency-access">Redirect User to a SIWF-Compatible Service (e.g. Frequency Access)</a></h1>
<p>To start the authentication loop, your application will generate an Authentication URL for each user.</p>
<p>Note: The following instruction examples are based on Frequency Access.</p>
<h2 id="quick-reference"><a class="header" href="#quick-reference">Quick Reference</a></h2>
<ul>
<li>Staging-Testnet: <code>https://testnet.frequencyaccess.com/siwa/start</code></li>
<li>Production-Mainnet: <code>https://www.frequencyaccess.com/siwa/start</code></li>
<li>Generate Login Request Payload and Signature: <a href="../Generate.html">Generator Tool</a></li>
<li>Request Structure: <a href="../DataStructures/All.html#request"><code>SiwfRequest</code></a></li>
<li>Signed Request Structure: <a href="../DataStructures/All.html#signed-request"><code>SiwfSignedRequest</code></a></li>
</ul>
<h2 id="step-1-generate-the-signed-request-payload"><a class="header" href="#step-1-generate-the-signed-request-payload">Step 1: Generate the Signed Request Payload</a></h2>
<p>You <em>can</em> generate more than one of these to use simultaneously.
Most applications should generate and keep their needed value(s) static.
The generated signed request payload is secured by the signature included in it, and it is not sensitive data.</p>
<h3 id="signed-request-payload-contents"><a class="header" href="#signed-request-payload-contents">Signed Request Payload Contents</a></h3>
<ul>
<li>A signature from one of the <a href="https://docs.frequency.xyz/Identity/ControlKeys.html">Control Keys</a> of the Frequency Provider</li>
<li>The domain and path the callback will use</li>
<li>The requested permissions</li>
<li>The requested credentials</li>
</ul>
<h3 id="signed-request-payload-generator"><a class="header" href="#signed-request-payload-generator">Signed Request Payload Generator</a></h3>
<p>Generate one or more login request payloads and signatures (<code>signedRequest</code>) using the <a href="../Generate.html">Generator Tool</a>.</p>
<h3 id="signed-request-payload-detailed-documentation"><a class="header" href="#signed-request-payload-detailed-documentation">Signed Request Payload Detailed Documentation</a></h3>
<p>For details on the Payload and how it is formed, see the <a href="../SignatureGeneration.html">Reference Documentation</a>.</p>
<h2 id="step-2-build-the-authentication-url-parameters"><a class="header" href="#step-2-build-the-authentication-url-parameters">Step 2: Build the Authentication URL Parameters</a></h2>
<h3 id="parameter-signedrequest"><a class="header" href="#parameter-signedrequest">Parameter: <code>signedRequest</code></a></h3>
<p>The <a href="https://datatracker.ietf.org/doc/html/rfc4648#section-5">Base64url</a> encoded value from Step 1.</p>
<p>Reminder: This includes the callback domain that will be used.</p>
<h3 id="additional-parameters-are-forwarded"><a class="header" href="#additional-parameters-are-forwarded">Additional Parameters are Forwarded</a></h3>
<p>Any additional parameters that do not collide with reserved parameter names on the Authentication URL are passed through unchanged.</p>
<div class="warning">
Note: These parameters are not protected and could be changed by malicious actors.
Take care when using them for security-related data.
</div>
<h4 id="example"><a class="header" href="#example">Example</a></h4>
<ul>
<li><code>https://www.frequencyaccess.com/siwa/start?signedRequest=&lt;request value&gt;&amp;key1=&lt;value1&gt;&amp;key2=&lt;value2&gt;&amp;other=&lt;result&gt;</code></li>
<li>Will result in callback URL parameters of: <code>?authorizationCode=&lt;authorization code&gt;&amp;key1=&lt;value1&gt;&amp;key2=&lt;value2&gt;&amp;other=&lt;result&gt;</code></li>
</ul>
<h2 id="step-3-build-the-authentication-url"><a class="header" href="#step-3-build-the-authentication-url">Step 3: Build the Authentication URL</a></h2>
<p>Taking the parameters from the previous step, build an Authentication URL using the correct base for the SIWF path of <code>/start</code>:</p>
<ul>
<li>Staging-Testnet: <code>https://testnet.frequencyaccess.com/siwa/start</code></li>
<li>Production-Mainnet: <code>https://www.frequencyaccess.com/siwa/start</code></li>
</ul>
<p>The SIWF System will send the user back by building the callback URL.
The callback URL will be built with:</p>
<ul>
<li>The callback from the <code>signedRequest</code></li>
<li>Appending any additional GET request parameters</li>
<li>Appending the reserved URL parameter of <code>authorizationCode</code></li>
</ul>
<p>The callback URL <em>will maintain</em> all non-reserved URL parameters.
For example, if you wish to correlate the original unauthorized session with the authorized session, you can generate a dynamic parameter with a random UUIDv4 identifier on each request.</p>
<h3 id="example-1"><a class="header" href="#example-1">Example</a></h3>
<p>Parameters</p>
<pre><code class="language-json">{
  "signedRequest": "eyJyZXF1ZXN0ZWRTaWduYXR1cmVzIjp7InB1YmxpY0tleSI6eyJlbmNvZGVkVmFsdWUiOiJmNmNMNHdxMUhVTngxMVRjdmRBQk5mOVVOWFhveUg0N21WVXdUNTl0elNGUlc4eURIIiwiZW5jb2RpbmciOiJiYXNlNTgiLCJmb3JtYXQiOiJzczU4IiwidHlwZSI6IlNyMjU1MTkifSwic2lnbmF0dXJlIjp7ImFsZ28iOiJTUjI1NTE5IiwiZW5jb2RpbmciOiJiYXNlMTYiLCJlbmNvZGVkVmFsdWUiOiIweDk2MGYxOTVkYzFmOTFiZjcxYzBiMzUyMzE1MGFlMzc0NzFiZWRlMDdhMDAzOTA5NjQ3Y2NmMDQwYWNkNWNkMDRlYTQ4NzBiZDEyNGNhZmEyZGViNTliMGUzNzhjYjE5ZmJjNmFmNjAxYjc1NTU5ZmFhYjdiNzY4ZGU4MWEwOTgzIn0sInBheWxvYWQiOnsiY2FsbGJhY2siOiJodHRwOi8vbG9jYWxob3N0OjMwMDAiLCJwZXJtaXNzaW9ucyI6WzUsNyw4LDksMTBdfX0sInJlcXVlc3RlZENyZWRlbnRpYWxzIjpbeyJ0eXBlIjoiVmVyaWZpZWRHcmFwaEtleUNyZWRlbnRpYWwiLCJoYXNoIjpbImJjaXFtZHZteGQ1NHp2ZTVraWZ5Y2dzZHRvYWhzNWVjZjRoYWwydHMzZWV4a2dvY3ljNW9jYTJ5Il19LHsiYW55T2YiOlt7InR5cGUiOiJWZXJpZmllZEVtYWlsQWRkcmVzc0NyZWRlbnRpYWwiLCJoYXNoIjpbImJjaXFlNHFvY3poZnRpY2k0ZHpmdmZiZWw3Zm80aDRzcjVncmNvM29vdnd5azZ5NHluZjQ0dHNpIl19LHsidHlwZSI6IlZlcmlmaWVkUGhvbmVOdW1iZXJDcmVkZW50aWFsIiwiaGFzaCI6WyJiY2lxanNwbmJ3cGMzd2p4NGZld2NlazVkYXlzZGpwYmY1eGppbXo1d251NXVqN2UzdnUydXducSJdfV19XX0",
  "mode": "dark"
}
</code></pre>
<p>Testnet Authentication URL</p>
<pre><code class="language-json">"https://testnet.frequencyaccess.com/siwa/start?signedRequest=eyJyZXF1ZXN0ZWRTaWduYXR1cmVzIjp7InB1YmxpY0tleSI6eyJlbmNvZGVkVmFsdWUiOiJmNmNMNHdxMUhVTngxMVRjdmRBQk5mOVVOWFhveUg0N21WVXdUNTl0elNGUlc4eURIIiwiZW5jb2RpbmciOiJiYXNlNTgiLCJmb3JtYXQiOiJzczU4IiwidHlwZSI6IlNyMjU1MTkifSwic2lnbmF0dXJlIjp7ImFsZ28iOiJTUjI1NTE5IiwiZW5jb2RpbmciOiJiYXNlMTYiLCJlbmNvZGVkVmFsdWUiOiIweDk2MGYxOTVkYzFmOTFiZjcxYzBiMzUyMzE1MGFlMzc0NzFiZWRlMDdhMDAzOTA5NjQ3Y2NmMDQwYWNkNWNkMDRlYTQ4NzBiZDEyNGNhZmEyZGViNTliMGUzNzhjYjE5ZmJjNmFmNjAxYjc1NTU5ZmFhYjdiNzY4ZGU4MWEwOTgzIn0sInBheWxvYWQiOnsiY2FsbGJhY2siOiJodHRwOi8vbG9jYWxob3N0OjMwMDAiLCJwZXJtaXNzaW9ucyI6WzUsNyw4LDksMTBdfX0sInJlcXVlc3RlZENyZWRlbnRpYWxzIjpbeyJ0eXBlIjoiVmVyaWZpZWRHcmFwaEtleUNyZWRlbnRpYWwiLCJoYXNoIjpbImJjaXFtZHZteGQ1NHp2ZTVraWZ5Y2dzZHRvYWhzNWVjZjRoYWwydHMzZWV4a2dvY3ljNW9jYTJ5Il19LHsiYW55T2YiOlt7InR5cGUiOiJWZXJpZmllZEVtYWlsQWRkcmVzc0NyZWRlbnRpYWwiLCJoYXNoIjpbImJjaXFlNHFvY3poZnRpY2k0ZHpmdmZiZWw3Zm80aDRzcjVncmNvM29vdnd5azZ5NHluZjQ0dHNpIl19LHsidHlwZSI6IlZlcmlmaWVkUGhvbmVOdW1iZXJDcmVkZW50aWFsIiwiaGFzaCI6WyJiY2lxanNwbmJ3cGMzd2p4NGZld2NlazVkYXlzZGpwYmY1eGppbXo1d251NXVqN2UzdnUydXducSJdfV19XX0&amp;mode=dark"
</code></pre>
<h2 id="step-3-redirect-the-user"><a class="header" href="#step-3-redirect-the-user">Step 3: Redirect the User</a></h2>
<ul>
<li>Redirect the user's Browser or Embedded Browser (for mobile apps) to the Authentication URL.
<ul>
<li><a href="https://developer.apple.com/documentation/safariservices/sfsafariviewcontroller">SafariViewController for iOS</a></li>
<li><a href="https://developer.chrome.com/docs/android/custom-tabs/">Chrome Custom Tabs for Android</a></li>
</ul>
</li>
</ul>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../Actions/Actions.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next prefetch" href="../Actions/Response.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                <!-- Mobile navigation buttons -->
                <!-- MOD: Show names and Chevrons -->
                  <a rel="prev" href="../Actions/Actions.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter: Actions" aria-keyshortcuts="Left">
                      <svg height="1.75em" style="display: inline" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentcolor" stroke-linecap="round" stroke-linejoin="round" stroke-width="3" class="chevron" style="display:inline" viewBox="0 0 24 26"><path d="m15 6-6 6 6 6"/></svg>Actions
                  </a>

                  <a rel="next" href="../Actions/Response.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter: Login Response" aria-keyshortcuts="Right">
                      Login Response<svg height="1.75em" style="display: inline" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentcolor" stroke-linecap="round" stroke-linejoin="round" stroke-width="3" class="chevron" style="display:inline" viewBox="0 0 24 26"><path d="m9 18 6-6-6-6"/></svg>
                  </a>
              <div style="clear: both"></div>
            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="../elasticlunr.min.js"></script>
        <script src="../mark.min.js"></script>
        <script src="../searcher.js"></script>

        <script src="../clipboard.min.js"></script>
        <script src="../highlight.js"></script>
        <script src="../book.js"></script>

        <!-- Custom JS scripts -->


    </div>
    </body>
</html>
